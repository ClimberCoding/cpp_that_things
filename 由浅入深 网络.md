# 由浅入深 网络

## 0.0、前言

## 一、基础理解

### Q：OSI的七层模型分别是什么？说说各自的功能



### Q：TCP/IP的网络模型



### Q：简单来说一下每一层对应的网络协议有哪些？



### Q：在浏览器中输入 URL 地址到显示主页的过程？实现方法？



### Q：MTU和MSS

### Q：一个ip配置多个域名，靠什么识别？



### Q：介绍一下ping的过程，分别用到了哪些协议 



### Q：一个机器能够使用的端口号上限是多少，为什么？可以改变吗？那如果想要用的端口超过这个限制怎么办？



### Q：URL包括哪三个部分？ 



### Q：介绍一下VPN（虚拟专用网）



### Q：WAN LAN WLAN VLAN VPN的区别 



### Q：



### Q：



### Q：



## 二、应用层篇

### Q：什么是HTTP？HTTP请求报文与响应报文首部结构？HTTP1.0，1.1，2.0 的版本区别？



### Q：HTTP常用的状态码及使用场景？



### Q：HTTP 方法有哪些？POST和GET有哪些区别？各自应用场景？

GET、HEAD、POST、PUT、DELETE

[转自](https://www.chaindesk.cn/witbook/17/253)

根据HTTP标准，HTTP请求可以使用多种请求方法。 HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。 HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。

```
GET         请求指定的页面信息，并返回实体主体。
HEAD        类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头
POST        向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。
PUT         从客户端向服务器传送的数据取代指定的文档的内容。
DELETE      请求服务器删除指定的页面。
CONNECT     HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。
OPTIONS     允许客户端查看服务器的性能。
TRACE       回显服务器收到的请求，主要用于测试或诊断。
```

常用方法: Get\Post\Head

Http定义了与服务器交互的不同方法，最基本的方法有4种，分别是**GET，POST，PUT，DELETE，**对应着对这个资源的查 ，改 ，增 ，删 4个操作。

另外还有个Head方法. 类似GET方法，只请求页面的首部，不响应页面Body部分，用于获取资源的基本信息，即检查链接的可访问性及资源是否修改。

GET和POST的区别：

- GET在浏览器回退时是无害的，而POST会再次提交请求。
- GET产生的URL地址可以被Bookmark，而POST不可以。
- GET请求会被浏览器主动cache，而POST不会，除非手动设置。
- GET请求只能进行url编码，而POST支持多种编码方式。
- GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。
- GET请求在URL中传送的参数是有长度限制的，而POST没有。
- 对参数的数据类型，GET只接受ASCII字符，而POST没有限制。
- GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。
- GET参数通过URL传递，POST放在Request body中。

HTTP的底层是TCP/IP。所以GET和POST的底层也是TCP/IP，也就是说，GET/POST都是TCP链接。GET产生一个TCP数据包；POST产生两个TCP数据包。对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200（返回数据）；而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据））



### Q：GRT请求中URL编码的意义？



### Q：你对 HTTP 长连接和短连接的理解？HTTP 如何实现长连接？在什么时候会超时？分别应用于哪些场景？



### Q：在交互过程中如果数据传送完了，还不想断开连接怎么办，怎么维持？



### Q：HTTPS的工作过程？与HTTP的区别？优缺点？由http升级为https需要做哪些操作 ？

[转自](https://www.chaindesk.cn/witbook/17/253)

HTTPS（Secure Hypertext Transfer Protocol）安全超文本传输协议 它是一个安全通信通道

HTTPS是HTTP over SSL/TLS，HTTP是应用层协议，TCP是传输层协议，在应用层和传输层之间，增加了一个安全套接层SSL。

![image-20211120142013519](https://gitee.com/ClimberCoding/picturebed/raw/master/img/image-20211120142013519.png)

服务器 用RSA生成公钥和私钥把公钥放在证书里发送给客户端，私钥自己保存客户端首先向一个权威的服务器检查证书的合法性，如果证书合法，客户端产生一段随机数，这个随机数就作为通信的密钥，我们称之为对称密钥，用公钥加密这段随机数，然后发送到服务器服务器用密钥解密获取对称密钥，然后，双方就已对称密钥进行加密解密通信了。

Https的作用

- 内容加密 建立一个信息安全通道，来保证数据传输的安全；
- 身份认证 确认网站的真实性
- 数据完整性 防止内容被第三方冒充或者篡改

**Https和Http的区别**

- https协议需要到CA申请证书。
- http是超文本传输协议，信息是明文传输；https 则是具有安全性的ssl加密传输协议。
- http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
- http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。



### Q：Cookie 和 Session 的理解？有什么区别？



### Q：DNS的解析过程？你对域名缓存的理解

[DNS解析过程](https://www.chaindesk.cn/witbook/17/253)

1. 浏览器中输入域名，操作系统会先检查自己本地的hosts文件是否有这个网络映射关系，如果有，就先调用这个IP地址映射，完成域名解析。
2. 如果hosts没有域名，查找本地DNS解析器缓存，如果有直接返回，完成域名解析。
3. 如果还没找到，会查找TCP/IP参数中设置的首选DNS服务器，我们叫它本地DNS服务器，此服务收到查询时，如果要查询的域名包含在本地配置区域资源中，则返回解析结果给客户机，完成域名解析，此解析具有权威性。
4. 如果要查询的域名，不由本地DNS服务器区域解析，但该服务已经缓存了地址映射关系，则调用这个IP地址映射，完成域名解析，此解析不具有权威性。
5. 如果上述过程失败，则根据本地DNS服务器的设置进行查询，如果未用转发模式，则把请求发给根服务器，根服务器返回一个负责该顶级服务器的IP，本地DNS服务器收到IP信息后，再连接该IP上的服务器进行解析，如果仍然无法解析，则发送下一级DNS服务器，重复操作，直到找到。
6. 如果是转发模式则把请求转发至上一级DNS服务器，假如仍然不能解析，再转发给上上级。不管是否转发，最后都把结果返回给本地DNS服务器上述一个是迭代查询，一个是递归查询。递归查询的过程是查询者发生了更替，而迭代查询过程，查询者不变。

通过上面的步骤，我们最后获取的是IP地址，也就是浏览器最后发起请求的时候是基于IP来和服务器做信息交互的。

举个例子来说，你想知道某个一起上法律课的女孩的电话，并且你偷偷拍了她的照片，回到寝室告诉一个很仗义的哥们儿，这个哥们儿二话没说，拍着胸脯告诉你，甭急，我替你查(此处完成了-次递归查询，即，问询者的角色更替)。然后他拿着照片问了学院大四学长，学长告诉他，这姑娘是xx系的；然后这哥们儿马不停蹄又问了xx系的办公室主任助理同学，助理同学说是xx系yy班的，然后很仗义的哥们儿去xx系yy班的班长那里取到了该女孩儿电话。(此处完成若千次迭代查询，即，问询者角色不变，但反复更替问询对象)最后，他把号码交到了你手里。完成整个查询过程。



### Q：DNS为什么使用UDP呢？



### Q：简单说下如何实现DNS劫持



### Q：URI和 URL之间的区别



### Q：谈谈你对FTP协议的理解（了解）



### Q：HTTP协议与TCP联系



### Q：应用层协议常用的端口号 



### Q：



### Q：



## 三、传输层篇

### Q：TCP与UDP的主要特点分别是什么？有哪些区别？各自应用场景？TCP最大连接数量？



### Q：TCP首部报文格式（SYN、ACK、FIN、RST...）



### Q：TCP和UDP相关的协议与端口号 



### Q：TCP滑动窗口原理



### Q：TCP超时重传时间选择



### Q：谈谈你对TCP拥塞控制的理解（与流量控制的区别）？使用了哪些算法？



### Q：采用滑动窗口会有什么问题（死锁可能，糊涂窗口综合征）？



### Q：TCP三握四挥的过程（详细介绍）



### Q：为什么需要三次握手？两次不行？状态变化？



### Q：为什么需要四次挥手？三次不行？状态变化？



### Q：TCP握手以及每一次握手客户端和服务器端处于哪个状态（11种状态）



### Q：TCP是如何保持有效可靠传输？（如何保证数据的正确性）UDP如何实现可靠传输？

（面向字节流，超时重传，应答机制，滑动窗口，拥塞控制，校验等）？



### Q：TCP连接释放中TIME_WAIT状态的作用？为什么 TIME-WAIT 状态必须等待 2MSL 的时间呢？TIME_WAIT 状态会导致什么问题，怎么解决？



### Q：谈谈你对停止等待协议的理解？谈谈你对 ARQ 协议的理解？



### Q：什么是粘包？TCP粘包是怎么产生的？如何解决拆包和粘包？



### Q：保活计时器的作用？



### Q：有没有抓过TCP包，描述一下



### Q：一台机器最多可以建立多少tcp连接？ 



### Q：数据流和粘包问题 



### Q：



### Q：



## 四、网络层篇

### Q：对路由协议的了解与介绍



### Q：路由协议所使用的算法



### Q：IP地址的分类



### Q：地址解析协议ARP的工作原理？过程？



### Q：网际控制报文协议ICMP是什么？过程？有哪些应用？



### Q：动态主机配置协议DHCP是什么？过程？有哪些应用？



### Q：IP地址和MAC地址有什么区别？各自的用处？为什么两者缺一不可？



### Q：IPV4地址不够如何解决



### Q：网络层转发数据报的流程



### Q：网络层分片的原因与具体实现 



## 五、网络安全

### Q：谈谈XXS攻击，举个例子？



### Q：服务器攻击（DDos攻击）



### Q：重放攻击，IP欺骗



### Q：什么是SQL注入？举个例子？



### Q：什么是SYN攻击？



### Q：对称加密与非对称加密的区别

### 

### Q：RSA加密算法（非对称加密，用公匙和私匙实现）



### Q：什么是数字签名？数字证书？



### Q：客户端为什么信任第三方证书



### Q：



### Q：



### Q：

